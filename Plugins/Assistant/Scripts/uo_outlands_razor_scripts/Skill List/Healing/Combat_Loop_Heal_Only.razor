# Improved Bandage Self Combat Loop by Jaseowns
# UO Outlands
# Disclaimer:  
#   If you are clicking a monster during a heal check,
#   this may target monster and turn you gray.  
#   Use with caution!

if not timerexists "aids"
    createtimer "aids"
    settimer "aids" 16000
endif

clearsysmsg 

while not dead
    
    if insysmsg "You finish applying the bandages"
        settimer "aids" 16000
    elseif insysmsg "but they barely help"
        settimer "aids" 16000
    endif

    if findtype "clean bandage%s%" backpack
        if hp < maxhp or poisoned 
           if timer "aids" >= 16000
                hotkey "Bandage Self"
                wait 200
                if insysmsg "begin applying"
                    settimer "aids" 0
                endif
            endif
        endif
    else
        overhead "No aids!" 34
    endif
    wait 200
endwhile 