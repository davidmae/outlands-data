# This is an automated backup - check out https://outlands.uorazorscripts.com/script/4b1d9529-b235-42bc-997c-690896e0df8e for latest
# Automation by Jaseowns
## Script: Treasure Goblin Bot (D)
## Created by: Jaseowns#6694
#############################################

# Treasure Goblin Bot by Jaseowns
# UO Outlands - LIVE STREAM: https://youtu.be/IBDLZk4lIGw
# Randomly drop unidentified item out of bag and gold and bandage 
# when you get hurt
# also says Ouch

// hotkey to drop gold on the ground
// randomly drop an item
// run this badboy in a loop and drop 
// items when we get hurt

@setvar! globalTimeout 650
clearsysmsg 

if not varexist lastHpCheck
    @setvar! lastHpCheck 100
endif

if not varexist triggerItemDrop
    @setvar! triggerItemDrop 0
endif

if hp = maxhp
    @setvar! triggerItemDrop 0
    @setvar! lastHpCheck 120
elseif hp = 119
    if 119 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 119
elseif hp = 118
    if 118 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 118
elseif hp = 117
    if 117 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 117
elseif hp = 116
    if 116 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 116
elseif hp = 115
    if 115 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 115
elseif hp = 114
    if 114 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 114
elseif hp = 113
    if 113 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 113
elseif hp = 112
    if 112 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 112
elseif hp = 111
    if 111 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 111
elseif hp = 110
    if 110 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 110
elseif hp = 109
    if 109 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 109
elseif hp = 108
    if 108 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 108
elseif hp = 107
    if 107 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 107
elseif hp = 106
    if 106 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 106
elseif hp = 105
    if 105 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 105
elseif hp = 104
    if 104 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 104
elseif hp = 103
    if 103 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 103
elseif hp = 102
    if 102 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 102
elseif hp = 101
    if 101 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 101
elseif hp = 100
    if 100 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 100
elseif hp = 99
    if 99 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 99
elseif hp = 98
    if 98 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 98
elseif hp = 97
    if 97 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 97
elseif hp = 96
    if 96 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 96
elseif hp = 95
    if 95 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 95
elseif hp = 94
    if 94 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 94
elseif hp = 93
    if 93 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 93
elseif hp = 92
    if 92 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 92
elseif hp = 91
    if 91 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 91
elseif hp = 90
    if 90 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 90
elseif hp = 89
    if 89 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 89
elseif hp = 88
    if 88 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 88
elseif hp = 87
    if 87 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 87
elseif hp = 86
    if 86 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 86
elseif hp = 85
    if 85 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 85
elseif hp = 84
    if 84 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 84
elseif hp = 83
    if 83 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 83
elseif hp = 82
    if 82 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 82
elseif hp = 81
    if 81 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 81
elseif hp = 80
    if 80 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 80
elseif hp = 79
    if 79 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 79
elseif hp = 78
    if 78 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 78
elseif hp = 77
    if 77 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 77
elseif hp = 76
    if 76 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 76
elseif hp = 75
    if 75 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 75
elseif hp = 74
    if 74 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 74
elseif hp = 73
    if 73 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 73
elseif hp = 72
    if 72 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 72
elseif hp = 71
    if 71 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 71
elseif hp = 70
    if 70 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 70
elseif hp = 69
    if 69 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 69
elseif hp = 68
    if 68 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 68
elseif hp = 67
    if 67 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 67
elseif hp = 66
    if 66 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 66
elseif hp = 65
    if 65 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 65
elseif hp = 64
    if 64 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 64
elseif hp = 63
    if 63 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 63
elseif hp = 62
    if 62 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 62
elseif hp = 61
    if 61 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 61
elseif hp = 60
    if 60 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 60
elseif hp = 59
    if 59 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 59
elseif hp = 58
    if 58 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 58
elseif hp = 57
    if 57 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 57
elseif hp = 56
    if 56 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 56
elseif hp = 55
    if 55 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 55
elseif hp = 54
    if 54 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 54
elseif hp = 53
    if 53 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 53
elseif hp = 52
    if 52 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 52
elseif hp = 51
    if 51 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 51
elseif hp = 50
    if 50 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 50
elseif hp = 49
    if 49 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 49
elseif hp = 48
    if 48 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 48
elseif hp = 47
    if 47 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 47
elseif hp = 46
    if 46 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 46
elseif hp = 45
    if 45 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 45
elseif hp = 44
    if 44 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 44
elseif hp = 43
    if 43 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 43
elseif hp = 42
    if 42 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 42
elseif hp = 41
    if 41 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 41
elseif hp = 40
    if 40 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 40
elseif hp = 39
    if 39 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 39
elseif hp = 38
    if 38 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 38
elseif hp = 37
    if 37 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 37
elseif hp = 36
    if 36 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 36
elseif hp = 35
    if 35 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 35
elseif hp = 34
    if 34 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 34
elseif hp = 33
    if 33 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 33
elseif hp = 32
    if 32 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 32
elseif hp = 31
    if 31 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 31
elseif hp = 30
    if 30 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 30
elseif hp = 29
    if 29 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 29
elseif hp = 28
    if 28 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 28
elseif hp = 27
    if 27 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 27
elseif hp = 26
    if 26 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 26
elseif hp = 25
    if 25 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 25
elseif hp = 24
    if 24 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 24
elseif hp = 23
    if 23 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 23
elseif hp = 22
    if 22 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 22
elseif hp = 21
    if 21 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 21
elseif hp = 20
    if 20 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 20
elseif hp = 19
    if 19 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 19
elseif hp = 18
    if 18 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 18
elseif hp = 17
    if 17 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 17
elseif hp = 16
    if 16 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 16
elseif hp = 15
    if 15 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 15
elseif hp = 14
    if 14 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 14
elseif hp = 13
    if 13 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 13
elseif hp = 12
    if 12 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 12
elseif hp = 11
    if 11 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 11
elseif hp = 10
    if 10 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 10
elseif hp = 9
    if 9 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 9
elseif hp = 8
    if 8 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 8
elseif hp = 7
    if 7 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 7
elseif hp = 6
    if 6 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 6
elseif hp = 5
    if 5 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 5
elseif hp = 4
    if 4 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 4
elseif hp = 3
    if 3 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 3
elseif hp = 2
    if 2 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 2
elseif hp = 1
    if 1 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 1
elseif hp = 0
    if 0 < lastHpCheck
        @setvar! triggerItemDrop 1
    endif
    @setvar! lastHpCheck 0
endif

sysmsg lastHpCheck

if triggerItemDrop = 1
    @setvar! triggerItemDrop 0
    say "Ouch!"
    // im bleeding
    

    if findtype 24434|43206|29363|43166|22336|29348|17087|3985|8826|3827|29030|3836|5981|4248|5359|3839|3838|3843|2597|29036|48407|3834|3865|3859|3885|3856|3878|3877|3873|3861|3862|576|5123|7177|7027|3920|5131|5179|5075|3980|5060|5076|5042|10245|3938|3913|7169|3909|5063|5089|3981|7170|7033|3976|3762|5040|5103|5117|7181|7029|3568|6264|3742|5139|6263|7026|5125|3740|5121|3973|3974|5204|5105|5185|5078|5115|7175|5059|7034|3713|3915|5112|5070|5049|5119|5205|5046|3962|3934|7035|3911|7179|5106|5143|3573|3719|5177|7610|5181|3917|5132|3963|7031|5207|5056|5085|3763|5129|5187|3721|3972|5138|3570|5101|5061|5074|5142|5182|5146|6265|5090|5203|5044|5144|3932|5201|5127|3572|7173|5135|3937|3571|22326|27611|9917|5356|8455|5362|45315|8454|22187|5901|7163|3903|12686 backpack as item
        getlabel item desc
        if "unidentified" in desc
            lift item 1
            droprelloc 0 0
            wait 200
            if insysmsg "cannot drop anything"
                drop backpack -1 -1 -1
            endif
            wait globalTimeout
        else
            ignore item
        endif
    endif

    if findtype "gold coin" backpack as item
        lift item 6
        droprelloc 0 0
        wait 200
        if insysmsg "cannot drop anything"
            drop backpack -1 -1 -1
        endif
        wait globalTimeout
    endif

    // 
    if findtype "clean bandage%s%" backpack as item
        lift item 1
        droprelloc 0 0
        wait 200
        if insysmsg "cannot drop anything"
            drop backpack -1 -1 -1
        endif
        wait globalTimeout
    endif
endif
wait 1000
loop